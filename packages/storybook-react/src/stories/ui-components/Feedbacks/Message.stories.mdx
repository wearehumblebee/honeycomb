import { Meta, Preview, Props, Story } from '@storybook/addon-docs/blocks';
import { select } from '@storybook/addon-knobs';
import { Message, useThemeUI } from 'theme-ui';

# Message

Message is a component rendering styled inline notifications

https://theme-ui.com/components/message

<Meta
  title="UI Components / Feedbacks / Message"
  component={Message}
  parameters={{ layout: 'centered' }}
/>

<Props of={Message} />

You can define variants in your theme under `theme.messages`

<Preview>
  <Story name="Default">
    {() => {
      const { theme } = useThemeUI();
      return (
        <Message
          variant={select('Variant', theme ? Object.keys(theme.messages || {}) : [], 'primary')}
        >
          Everyone&apos;s a genius. But if you judge a fish by its ability to climb a tree, it will
          live its whole life believing that it is stupid.
          <br />
          <a
            href="https://quoteinvestigator.com/2013/04/06/fish-climb/"
            target="_blank"
            rel="noopener noreferrer"
          >
            Albert Einstein(?)
          </a>
        </Message>
      );
    }}
  </Story>
</Preview>

<Preview>
  <Story name="Theme variants">
    {() => {
      const { theme } = useThemeUI();
      return theme.messages ? (
        <React.Fragment>
          {Object.keys(theme.messages || {}).map((variant) => (
            <Message key={`message.${variant}`} variant={variant}>
              This is a message with the &ldquo;{variant}&rdquo; variant
            </Message>
          ))}
        </React.Fragment>
      ) : (
        'Either you did not select a theme, or your theme includes no variants for `messages`'
      );
    }}
  </Story>
</Preview>
